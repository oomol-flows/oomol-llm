nodes:
  - node_id: llm-template#2
    title: "LLM template #2"
    inputs_from:
      - handle: template
        value:
          - role: system
            content: "你是一个翻译者。你要翻译接下来用户的发言。"
          - role: user
            content: "{{input}}"
        schema_overrides:
          - schema:
              type: array
      - handle: input
        value: |-
          白日依山尽，黄河入海流。
          欲穷千里目，更上一层楼。
    task: self::llm-template
    inputs_def:
      - handle: input
        json_schema:
          type: string
          ui:widget: text
  - node_id: llm-with-messages#1
    title: "LLM (messages) #1"
    inputs_from:
      - handle: model
        value:
          model: deepseek-chat
          temperature: 0
          top_p: 0.5
          max_tokens: 4096
      - handle: messages
        from_node:
          - node_id: llm-template#2
            output_handle: messages
    task: self::llm-with-messages
    outputs_def:
      - handle: english
        description: 翻译成英语
        json_schema:
          type: string
      - handle: japanese
        json_schema:
          type: string
        description: 翻译成日语
  - node_id: markdown_text_preview#4
    title: "Markdown preview #4"
    inputs_from:
      - handle: text
        from_node:
          - node_id: llm-with-messages#1
            output_handle: english
    task: oomol-preview::markdown_text_preview
  - node_id: markdown_text_preview#5
    title: "Markdown preview #5"
    inputs_from:
      - handle: text
        from_node:
          - node_id: llm-with-messages#1
            output_handle: japanese
    task: oomol-preview::markdown_text_preview
